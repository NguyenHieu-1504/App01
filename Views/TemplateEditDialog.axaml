<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="700"
        xmlns:models="using:App01.Models"
        x:Class="App01.Views.TemplateEditDialog"
        Title="Kịch Bản Hiển Thị"
        Width="550" Height="700"
        WindowStartupLocation="CenterOwner"
        CanResize="False">
    <ScrollViewer>
        <StackPanel Margin="20" Spacing="15">
            <TextBlock Text="THÔNG TIN KỊCH BẢN" FontWeight="Bold" FontSize="16" Foreground="#2C3E50"/>
            <StackPanel Spacing="5">
                <TextBlock Text="Tên kịch bản: *"/>
                <TextBox Name="txtName" Watermark="VD: Kịch bản chuẩn, Kịch bản cảnh báo..."/>
            </StackPanel>

            <Separator Margin="0,5"/>

            <TextBlock Text="CẤU HÌNH HIỂN THỊ" FontWeight="Bold" FontSize="14" Foreground="#2C3E50"/>

            <Grid ColumnDefinitions="*, 10, *">
                <StackPanel Grid.Column="0" Spacing="5">
                    <TextBlock Text="Dòng 1 (Template): *"/>
                    <TextBox Name="txtLine1" Watermark="VD: XE DANG GUI"/>
                    <TextBlock Text="{}{ParkedCount} = Số xe đang gửi" FontSize="11" Foreground="Gray"/>
                </StackPanel>

                <StackPanel Grid.Column="2" Spacing="5">
                    <TextBlock Text="Dòng 2 (Template): *"/>
                    <TextBox Name="txtLine2" Watermark="VD: {AvailableCount} CHO"/>
                    <TextBlock Text="{}{AvailableCount} = Số chỗ trống" FontSize="11" Foreground="Gray"/>
                </StackPanel>
            </Grid>

            <Grid ColumnDefinitions="*, 10, *">
                <StackPanel Grid.Column="0" Spacing="5">
                    <TextBlock Text="Cỡ chữ (Font Size):"/>
                    <ComboBox Name="cboFontSize" HorizontalAlignment="Stretch" SelectedIndex="1">
                        <ComboBoxItem>7 (Rất nhỏ)</ComboBoxItem>
                        <ComboBoxItem>10 (Chuẩn)</ComboBoxItem>
                        <ComboBoxItem>12 (Vừa)</ComboBoxItem>
                        <ComboBoxItem>13 (Lớn)</ComboBoxItem>
                        <ComboBoxItem>14 (Rất lớn)</ComboBoxItem>
                        <ComboBoxItem>16 (Cực đại)</ComboBoxItem>
                    </ComboBox>
                </StackPanel>

                <StackPanel Grid.Column="2" Spacing="5">
                    <TextBlock Text="Căn lề (Alignment):"/>
                    <ComboBox Name="cboAlignment" HorizontalAlignment="Stretch" SelectedIndex="1">
                        <ComboBoxItem>Trái (Left)</ComboBoxItem>
                        <ComboBoxItem>Giữa (Center)</ComboBoxItem>
                        <ComboBoxItem>Phải (Right)</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </Grid>

            <Separator Margin="0,5"/>

            <TextBlock Text="CẤU HÌNH MÀU SẮC (Theo % chỗ trống)" FontWeight="Bold" FontSize="14" Foreground="#2C3E50"/>

            <StackPanel Spacing="5">
                <TextBlock Text="Màu mặc định:"/>
                <ComboBox Name="cboDefaultColor" HorizontalAlignment="Stretch" SelectedIndex="1">
                    <ComboBoxItem>Đỏ (Red)</ComboBoxItem>
                    <ComboBoxItem>Xanh lá (Green)</ComboBoxItem>
                    <ComboBoxItem>Vàng (Yellow)</ComboBoxItem>
                    <ComboBoxItem>Xanh dương (Blue)</ComboBoxItem>
                    <ComboBoxItem>Tím (Purple)</ComboBoxItem>
                    <ComboBoxItem>Lục lam (Cyan)</ComboBoxItem>
                    <ComboBoxItem>Trắng (White)</ComboBoxItem>
                </ComboBox>
            </StackPanel>

            <TextBlock Text="Quy tắc đổi màu tự động:" FontWeight="SemiBold" Margin="0,5,0,0"/>

            <Grid ColumnDefinitions="Auto, 10, *, 10, Auto, 10, *, 10, *" VerticalAlignment="Center">
                <TextBlock Grid.Column="0" Text="1." VerticalAlignment="Center" FontWeight="Bold"/>
                <StackPanel Grid.Column="2">
                    <TextBlock Text="Min %" FontSize="10"/>
                    <NumericUpDown Name="numMin1" Minimum="0" Maximum="100" Value="0" FormatString="0"/>
                </StackPanel>
                <TextBlock Grid.Column="4" Text="-" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="6">
                    <TextBlock Text="Max %" FontSize="10"/>
                    <NumericUpDown Name="numMax1" Minimum="0" Maximum="100" Value="10" FormatString="0"/>
                </StackPanel>
                <StackPanel Grid.Column="8">
                    <TextBlock Text="Màu sắc" FontSize="10"/>
                    <ComboBox Name="cboColor1" SelectedIndex="0" HorizontalAlignment="Stretch">
                        <ComboBoxItem>Red</ComboBoxItem>
                        <ComboBoxItem>Green</ComboBoxItem>
                        <ComboBoxItem>Yellow</ComboBoxItem>
                        <ComboBoxItem>Blue</ComboBoxItem>
                        <ComboBoxItem>Purple</ComboBoxItem>
                        <ComboBoxItem>Cyan</ComboBoxItem>
                        <ComboBoxItem>White</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </Grid>

            <Grid ColumnDefinitions="Auto, 10, *, 10, Auto, 10, *, 10, *" VerticalAlignment="Center">
                <TextBlock Grid.Column="0" Text="2." VerticalAlignment="Center" FontWeight="Bold"/>
                <StackPanel Grid.Column="2">
                    <NumericUpDown Name="numMin2" Minimum="0" Maximum="100" Value="11" FormatString="0"/>
                </StackPanel>
                <TextBlock Grid.Column="4" Text="-" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="6">
                    <NumericUpDown Name="numMax2" Minimum="0" Maximum="100" Value="30" FormatString="0"/>
                </StackPanel>
                <StackPanel Grid.Column="8">
                    <ComboBox Name="cboColor2" SelectedIndex="2" HorizontalAlignment="Stretch">
                        <ComboBoxItem>Red</ComboBoxItem>
                        <ComboBoxItem>Green</ComboBoxItem>
                        <ComboBoxItem>Yellow</ComboBoxItem>
                        <ComboBoxItem>Blue</ComboBoxItem>
                        <ComboBoxItem>Purple</ComboBoxItem>
                        <ComboBoxItem>Cyan</ComboBoxItem>
                        <ComboBoxItem>White</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </Grid>

            <Grid ColumnDefinitions="Auto, 10, *, 10, Auto, 10, *, 10, *" VerticalAlignment="Center">
                <TextBlock Grid.Column="0" Text="3." VerticalAlignment="Center" FontWeight="Bold"/>
                <StackPanel Grid.Column="2">
                    <NumericUpDown Name="numMin3" Minimum="0" Maximum="100" Value="31" FormatString="0"/>
                </StackPanel>
                <TextBlock Grid.Column="4" Text="-" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="6">
                    <NumericUpDown Name="numMax3" Minimum="0" Maximum="100" Value="100" FormatString="0"/>
                </StackPanel>
                <StackPanel Grid.Column="8">
                    <ComboBox Name="cboColor3" SelectedIndex="1" HorizontalAlignment="Stretch">
                        <ComboBoxItem>Red</ComboBoxItem>
                        <ComboBoxItem>Green</ComboBoxItem>
                        <ComboBoxItem>Yellow</ComboBoxItem>
                        <ComboBoxItem>Blue</ComboBoxItem>
                        <ComboBoxItem>Purple</ComboBoxItem>
                        <ComboBoxItem>Cyan</ComboBoxItem>
                        <ComboBoxItem>White</ComboBoxItem>
                    </ComboBox>
                </StackPanel>
            </Grid>

            <TextBlock Text="* Min/Max % là tỷ lệ chỗ trống còn lại" FontStyle="Italic" FontSize="11" Foreground="Gray"/>
            <Separator Margin="0,5"/>

            <StackPanel Spacing="5">
                <TextBlock Text="Ghi chú:"/>
                <TextBox Name="txtNotes" Height="50" TextWrapping="Wrap" Watermark="Ghi chú thêm về kịch bản này..."/>
            </StackPanel>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10" Margin="0,10,0,0">
                <Button Name="btnSave" Content="💾 Lưu Kịch Bản" Width="120" Classes="accent" Click="BtnSave_Click"/>
                <Button Name="btnCancel" Content="Hủy" Width="100" Click="BtnCancel_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>